<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<script type="text/javascript">
		/*
		 생성자함수
		 */

		/*
		 학생객체를 생성해서 반환해주는 <<< 생성자함수 >>> 작성
		 */
		function Student(id, name, kor, eng, math) {
			/*
			호출 new Student('xxx','KIM',34,12,56);
			1.Object객체생성({})
			2.생성된 Object객체(this)에 속성추가
			3.생성된 Object객체(this) 반환
			*/
			this.id = id;
			this.name = name;
			this.kor = kor;
			this.eng = eng;
			this.math = math;
			this.tot = 0;
			this.avg = 0.0;
			/*
			this.caculateTot = function () {
				this.tot = this.kor + this.eng + this.math;
			};
			this.caculateAvg = function () {
				this.avg = this.tot / 3;
			};
			this.toString = function () {
				return '[' + this.id + ']' + this.name + ',' +
					this.kor + ',' + this.eng + ',' +
					this.math + ',' + this.tot + ',' + this.avg;
			};
			*/
		}
		
		
		/************prototype[case 1]*****************
		Student.prototype객체안에 instance 메소드 추가(모든 Student객체들이 사용하는 instance메소드)
			- Student객체의 메소드를 호출하면, Student.prototype객체안에서 메소드를 찾아서 호출한다
				:Student객체에 있는가? -> prototype객체에 있는가? -> prototype상위객체에 있는가? 순으로 탐색한다.
		**********************************************/
		//무조건 만들어짐 ex> Student.s라고 기술해도
		Student.prototype.calculateTot=function(){
			this.tot = this.kor + this.eng + this.math;
		};
		Student.prototype.calculateAvg=function(){
			this.avg = this.tot / 3;
		};
		Student.prototype.toString=function(){
			return '[' + this.id + ']' + this.name + ',' +
					this.kor + ',' + this.eng + ',' +
					this.math + ',' + this.tot + ',' + this.avg;
		};
		
		/************prototype[JSON][case 2]***********/
		//여기를 잘알아야함...
		Student.prototype={
			'calculateTot':function(){
				this.tot = this.kor + this.eng + this.math;
			},
			'calculateAvg':function(){
				this.avg = this.tot / 3;
			},
			'toString':function(){
				return '[' + this.id + ']' + this.name + ',' +
					this.kor + ',' + this.eng + ',' +
					this.math + ',' + this.tot + ',' + this.avg;
			}
		};


		/****************학생객체****************/
		var studentObject1 = new Student('xxx', 'KIM', 34, 12, 89);
		var studentObject2 = new Student('yyy', 'LEE', 55, 91, 73);
		var studentObject3 = new Student('zzz', 'CHOI', 78, 67, 99);

		var studentArray = [studentObject1, studentObject2, studentObject3];

		/****************학생객체****************/
	</script>
</head>

<body>
	<h1>생성자 함수4[prototype객체를 사용해서 객체 메쏘드정의]</h1>
	<hr>
	<script type="text/javascript">
		document.write('--------------student 리스트---------------------<br>');
		for (var i = 0; i < studentArray.length; i++) {
			studentArray[i].calculateTot();
			studentArray[i].calculateAvg();
			document.write(studentArray[i].toString() + "<br/>");
		}

	</script>
</body>

</html>